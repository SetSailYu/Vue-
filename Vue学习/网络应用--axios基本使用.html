<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>axios基本使用</title>
	</head>
	<body>
		
		<h2>
			<!-- 
			<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
			axios.get(地址?key=value&key2=values).then(function(response){},function(err){})
			axios.post(地址,{key:value,key2:value2}).then(function(response){},function(err){}) 
			-->
		</h2>
		
		
		
		<input type="button" value="get请求" class="get" />
		<p class="getText1"></p>
		<p class="getText2"></p>
		<p class="getText3"></p>
		<input type="button" value="post请求" class="post" />
		
		
		<!-- 引入JQ -->
		<script src="js/jquery.min.js"></script>
		<!-- 官网提供的 axios 在线地址 -->
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script>
			
			$(function(){
				/*
					接口1：随机笑话
					请求地址：https://autumnfish.cn/api/joke/list
					请求方法：get
					请求参数：num（笑话条数，数字）
					响应内容：随机笑话
				*/
				$(".get").click(function(){
					axios.get("https://autumnfish.cn/api/joke/list?num=3")
					.then(function(response){
						console.log(response);
						$(".getText1").text(response.data.jokes[0]);
						$(".getText2").text(response.data.jokes[1]);
						$(".getText3").text(response.data.jokes[2]);
					},function(err){
						console.log(err);
					})
				});
				/*
					接口2：用户注册
					请求地址：https://autumnfish.cn/api/user/reg
					请求方法：post
					请求参数：username（用户名，字符串）
					响应内容：注册成功或失败
				*/
			   $(".post").click(function(){
				   axios.post("https://autumnfish.cn/api/user/reg",
				   {username:"jack"})
				   .then(function(response){
					   console.log(response);
				   },function(err){
					   
				   })
			   })
			})
		</script>
		
		
	</body>
</html>
